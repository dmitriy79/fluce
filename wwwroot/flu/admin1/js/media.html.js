if(!window.ng_flussonic_templates) window.ng_flussonic_templates = angular.module('flussonic-templates',[]);window.ng_flussonic_templates.run(['$templateCache', function($templateCache) {
  $templateCache.put('/flu/html/media.html', '<div class="container" ng-controller="MediaController">\n  <div ng-show="loading_media" class="row" style="position: absolute; width:100%; height: 100%; z-index: 5; background: url(\'/flu/admin1/images/spinner.gif\') 50% 50% no-repeat"></div>\n\n  <div class="row" ng-show="medias.length == 0">\n    No opened medias here yet. <br>\n\n    When new live stream will be started, or vod file will appear, this\n    page will be populated with data.\n  </div>\n\n  <div class="row" ng-show="total_sessions > 0">Total clients: {{total_sessions}}, stream clients: {{stream_sessions}}, file clients: {{file_sessions}}</div>\n\n  <div class="row" ng-if="config_changed">\n    <div style="z-index: 1000; position: fixed; left: 0px; top: 50px; width: 100%; height: 45px; background: rgba(200,200,200,0.5); padding: 5px 0 0 15%">\n      <button type="button"  class="btn btn-danger save-config-btn" ng-click="save_config()" data-loading-text="Saving...">Save changes</button>\n      <a href="/admin1#/media" ng-click="reload()" class="btn btn-success save-config-btn">Reload</a>\n    </div>\n  </div>\n\n  <table style="margin-top: 35px" class=\'table row media-list\'>\n    <thead>\n      <tr>\n        <th ng-if="config_loaded" class="hidden-xs hidden-sm col-md-1">Config</th>\n        <th class="col-xs-4 col-sm-3 col-md-2">Name</th>\n        <th class="col-xs-6 col-sm-4 col-md-3">Play</th>\n        <th class="col-xs-2 col-sm-1">Clients</th>\n        <th class="hidden-xs col-sm-1">Bitrate</th>\n        <th class="col-xs-2 col-sm-1">Lifetime</th>\n        <th class="hidden-xs col-sm-1">Delay</th>\n        <th class="hidden-xs hidden-sm col-md-1">Retries</th>\n        <th class="hidden-xs col-sm-1">Restart</th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr><td colspan="10"><h3>Static streams. \n      <a ng-if=\'stream_filter_s != "all"\' href=\'\' ng-click=\'applyFilter()\'>Total</a><span ng-if=\'stream_filter_s == "all"\'>Total</span>: {{streams.length}}, \n      <a ng-if=\'stream_filter_s != "online"\' href=\'\' ng-click=\'applyFilter("online")\'>online</a><span ng-if=\'stream_filter_s == "online"\'>online</span>: {{(streams | filter : {online : true, working : true}).length}},\n      <a ng-if=\'stream_filter_s != "offline"\' href=\'\' ng-click=\'applyFilter("offline")\'>offline</a><span ng-if=\'stream_filter_s == "offline"\'>offline</span>: {{(streams | filter : {online : false}).length}},\n      <a ng-if=\'stream_filter_s != "failed"\' href=\'\' ng-click=\'applyFilter("failed")\'>failed</a><span ng-if=\'stream_filter_s == "failed"\'>failed</span>: {{(streams | filter : {online : true, working : false}).length}}\n      </h3></td></tr>\n    </tbody>\n    <tbody ng-if=\'streams.length > 0\' class=\'stream-list\' ng-init=\'media_group = streams\' ng-include="\'/flu/html/media-one.html\'"></tbody>\n\n    <tbody ng-show=\'config_loaded\'>\n      <tr>\n        <td colspan="10">\n          <a ng-show=\'config_loaded\' href=\'\' ng-click="add_ingest_stream()">\n            <span class="glyphicon glyphicon-plus-sign" title="New static stream"></span>&nbsp; add static stream\n          </a>\n        </td>\n      </tr>\n    </tbody>\n\n\n<!-- Lives -->\n\n\n    <tbody>\n      <tr>\n        <td colspan="2"><h3>Publish locations ({{lives.length}})</h3></td>\n        <td colspan="8" style="line-height: 30px">\n<span flu-help>Live locations are locations that you would publish to and use as an edge point. This multi-use configuration is for all live streams that you wish to publish to Flussonic and use as client playback.\nI.E.: Live: location<br>\nEncoder URL: rtmp://server/location/my_stream<br>\n<br>\nPlayback URLS:<br>\nRTMP: rtmp://server:1935/location/my_stream<br>\nHLS: http://server/location/my_stream/index.m3u8<br>\nHDS: http://server/location/my_stream/manifest.f4m<br>\n<br>\n**Note - ports are used as examples, they will follow your port settings in the Global Options area.\n</span>   \n\n        </td>\n      </tr>\n    </tbody>\n\n    <tbody ng-repeat-start="live in lives">\n      <tr>\n        <td valign="top" ng-if="config_loaded" class="hidden-xs hidden-sm">\n          <button ng-if="live.config" type=button class=\'btn btn-xs btn-default\' btn-checkbox ng-model=\'live.show_config\'>\n            <span class="glyphicon glyphicon-wrench" title="Configure publish location {{live.prefix}}"></span>\n          </button>\n\n          <a href=\'\' ng-click=\'remove_live($index)\' class=\'stream-delete\' ng-if="live.show_config">\n            <span class="glyphicon glyphicon-minus-sign" title="Remove publish location {{live.prefix}}"></span>\n          </a>\n\n        </td>\n        <td>\n          <input ng-if="live.show_config" ng-model="live.config.prefix" type="text" class="form-control input-sm">\n          <span ng-if="!live.show_config">{{live.config.prefix}}</span>\n        </td>\n        <td colspan="8">&nbsp;</td>\n      </tr>\n      <tr class="media-config" ng-if="live.show_config">\n        <td colspan="10" ng-init=\'s = live.config\' class="form-horizontal">\n          <div class="form-group" ng-include="\'/flu/html/config-one-stream.html\'"></div>\n        </td>\n      </tr>      \n    </tbody>\n    <tbody class=\'stream-list\' ng-init=\'media_group = live.streams\' ng-include="\'/flu/html/media-one.html\'"></tbody>\n    <tbody ng-repeat-end></tbody>\n\n    <tbody ng-show=\'config_loaded\'>\n      <tr>\n        <td colspan="10">\n          <a ng-show=\'config_loaded\' href=\'\' ng-click="add_live()">\n            <span class="glyphicon glyphicon-plus-sign" title="New publish location"></span>&nbsp; add publish location\n          </a>\n        </td>\n      </tr>\n    </tbody>\n\n<!-- Files -->\n\n    <tbody>\n      <tr><td colspan="2"><h3>VOD files ({{vods.length}})</h3></td>\n      <td colspan="8">\n          <span flu-help="popover">\nUsually you need to provide a path on local disk here.<br>\nif you wish to add an outside path to pull Videos in and store on cache you will add the path as follows:<br>\nprotocol://user:password@host/path<br>\nIE:<br>\nHTTP: http://user:password@host/path<br>\nAmazon S3: s3://ACCESS_ID:SECRET@s3.amazonaws.com/bucket/path<br>\nSWIFT: swift://user=user:acc&password=pass@server/swift_container\n  </span>\n\n      </td>\n      </tr>\n    </tbody>\n    <tbody ng-repeat-start="vod in vods">\n      <tr>\n        <td valign="top" ng-if="config_loaded" class="hidden-xs hidden-sm">\n          <button ng-if="vod.config" type=button class=\'btn btn-xs btn-default\' btn-checkbox ng-model=\'vod.show_config\'>\n            <span class="glyphicon glyphicon-wrench" title="Configure vod location {{vod.prefix}}"></span>\n          </button>\n\n          <a href=\'\' ng-click=\'remove_vod($index)\' class=\'stream-delete\' ng-if="vod.show_config">\n            <span class="glyphicon glyphicon-minus-sign" title="Remove vod location {{vod.prefix}}"></span>\n          </a>\n        </td>\n        <td>\n          <input ng-if="vod.show_config" ng-model="vod.config.prefix" type="text" class="form-control input-sm">\n          <span ng-if="!vod.show_config">{{vod.prefix}}</span>\n        </td>\n        <td colspan="8">&nbsp;</td>\n      </tr>\n\n      <tr class="media-config" ng-if="vod.show_config">\n        <td colspan="10" class="form-horizontal">\n          <div class="form-group">\n\n            <div class="col-md-2">\n              <button class="btn btn-info btn-sm" ng-click="config.add_vod_path(vod.config)">Add source</button>\n            </div>\n\n            <div class="col-md-5">\n              <div class="input-group input-group-sm" ng-repeat="e in vod.config.paths track by $index" style="margin-bottom: 10px">\n                <input ng-model="e.url" type="text" class="form-control">\n                <div class="input-group-btn">\n                  <button class="btn btn-danger" type="button" ng-click="config.remove_vod_path(vod.config,$index)">remove</button>\n                </div>\n              </div>                  \n            </div>\n\n\n          </div>\n        </td>\n      </tr>\n\n\n      <tr class="media-config" ng-if="vod.show_config">\n        <td colspan="10" ng-init=\'v = vod.config\' class="form-horizontal">\n          <div class="form-group" ng-include="\'/flu/html/config-one-vod.html\'"></div>\n        </td>\n      </tr>      \n    </tbody>\n    <tbody class=\'stream-list\' ng-init=\'media_group = vod.files\' ng-include="\'/flu/html/media-one.html\'"></tbody>\n    <tbody ng-repeat-end></tbody>\n\n    <tbody ng-show=\'config_loaded\'>\n      <tr>\n        <td colspan="2">\n          <a ng-show=\'config_loaded\' href=\'\' ng-click="add_vod()">\n            <span class="glyphicon glyphicon-plus-sign" title="New vod location"></span>&nbsp; add vod location\n          </a>\n        </td>\n\n        <td colspan="8">\n          \n    <span flu-help data-placement=top>\nWhen adding a VOD location you will be presented with two options:<br>\n\n1. Vod location: This this the name of the video on demand prefix reference that will be used for file playback.<br>\n\n2. Path: This is the path of your VOD store on disk or in the cloud that will be used in the Vod Location prefix.<br>\nI.E.: /vod/my_vid <br>\n\nA resulting URL playback for a file /vod/my_vid/movie.mp4 : http://flussonic/vod_location/movie.mp4/index.m3u8\n    </span>\n\n\n        </td>\n\n\n      </tr>\n    </tbody>\n\n  </table>\n</div>\n\n<style type="text/css">\n.stream-list .lifetime, .stream-list .ts_delay, .stream-list .retry_count {\n  text-align: right;\n  font-family: fixed;\n  font-size: 14px;\n}\n\n.media-config {\n  background: lightyellow;\n}\n\ntd.form-horizontal .form-group {\n  margin-left: 0;\n}\n\n.stream-delete {\n  font-size: 20px;\n  color: #d43f3a;\n}\n\n.stream-list .bitrate {\n  font-family: fixed;\n  font-size: 14px;\n}\n\n.stream-play a {\n  margin-right: 10px;\n}\n</style>\n');
}]);
