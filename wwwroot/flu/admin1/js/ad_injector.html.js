if(!window.ng_flussonic_templates) window.ng_flussonic_templates = angular.module('flussonic-templates',[]);window.ng_flussonic_templates.run(['$templateCache', function($templateCache) {
  $templateCache.put('/flu/html/ad_injector.html', '<div class="container" ng-controller="AdInjectorController">\n  <div class="row" ng-show="schedules.length == 0">\n    No information here yet.<br>\n    \n    When you will configure some advertisement schedules, they will appear here.\n  </div>\n  \n  <div class="row" style="margin-bottom: 10px">\n    <div class="col-lg-2 col-md-2 col-sm-3">\n      <button type="button" class="btn btn-success" ng-click="load_schedules()">Reload from server</button>\n    </div>\n    <div class="col-lg-2 col-md-2 col-sm-3">\n      <button type="button" class="btn btn-danger save-config-btn" ng-click="save_schedules()" data-loading-text="Saving...">Save and apply</button>\n    </div>\n    <div class="col-lg-8 col-md-8 col-sm-6">\n      <b>Use these functions with CAUTION</b>\n      <span flu-help  data-container="body">\n        If you edit the configuration outside of this GUI and then use the GUI to make any changes to the Media Server it will over-write these changes. <b>ALWAYS</B> use the "Reload from server" button before making changes within the GUI!\n      </span>\n    </div>\n  </div>\n  \n  \n  <div class="row">\n    <div class="col-lg-8 col-md-8 col-sm-8 container form-horizontal" role="form">\n      <div class="row">\n        <div class="col-lg-12"><h3>Ad Schedules</h3></div>\n      </div>\n      <div class="row">\n        <div class="col-lg-12">\n          <p>Before you begin, make sure you have uploaded videofiles for your ads in the <a target="_blank" href="#/vod">VOD section</a>.</p>\n        </div>\n      </div>\n      \n      \n      <div class="row">\n        <div class="col-lg-4 col-md-5 col-sm-6">\n          <input class="input-sm form-control" ng-model="new_schedule_name">\n        </div>\n        <div class="col-lg-2 col-md-2 col-sm-3">\n          <button class="btn btn-info btn-sm" ng-click="add_schedule()">Add schedule</button>\n        </div>\n        <div class="col-lg-6 col-md-5 col-sm-3">\n          <span class="control-label" flu-help>\n            This is the name of your schedule that will be used as a reference in the Stream Ingest area under config\n          </span>\n        </div>\n      </div>\n      <div class="row panel-group" ad-schedules style="margin-top: 10px">\n        <div class="col-lg-12">\n          <div class="panel panel-default" ng-repeat="s in schedules track by $index">\n            <!-- start schedule -->\n            <div class="panel-heading">\n              <h4 class="panel-title">\n                \n                <button class="btn btn-danger btn-sm" ng-click="remove_schedule($index)">Delete</button>\n                <a class="accordion-toggle" data-toggle="collapse" href="div#adschedule{{$index}}">Schedule: {{s.name}}</a>\n              </h4>\n            </div>\n            \n            <div id="adschedule{{$index}}" ad-schedule data-index="{{$index}}" class="panel-collapse collapse">\n              <div class="row">\n                <!-- schedule slots -->\n                <div class="col-lg-6 col-md-7 panel-body">\n                  <div class="container">\n                    <div class="row">\n                      <div class="form-group" ng-repeat="e in s.slots track by $index">\n                        <label class="col-sm-2 control-label">Slot: </label>\n                        <div class="col-sm-4">\n                          <input ng-model="e.from" ng-pattern="time" class="form-control">\n                        </div>\n                        <div class="col-sm-3">\n                          <input ng-model="e.duration" class="form-control">\n                        </div>\n                        <div class="col-lg-2 col-sm-3">\n                          <button class="btn btn-danger btn-sm" ng-click="remove_slot(s,$index)">Delete</button>\n                        </div>\n                      </div>\n                    </div>\n                    <div class="row">\n                      <div class="col-sm-3" style="margin-bottom: 10px">\n                        <button class="btn btn-info btn-sm" ng-click="add_slot(s)">Add slot</button>\n                      </div>\n                      \n                      <div class="col-sm-9">\n                        <span class="control-label" data-container="body" class="asd" flu-help>\n                          <p>Time slots are maintained to run at specified times using the following format: HH:MM:SS UTC, for example: 12:59:30 UTC. To find out the correct offset, follow the link below to find the current UTC time and specify the time accordingly:\n\n                            <a target=_blank href="http://www.worldtimeserver.com/current_time_in_UTC.aspx">http://www.worldtimeserver.com/current_time_in_UTC.aspx</a></p>\n                          \n                          <p>To have an ad run every 15 minutes for a one hour show which starts at 9:00:00 and ends at 10:00:00, set up the slots as follows:</p>\n                          <ol>\n                            <li>Schedule the first slot to run at 09:15:00</li>\n                            <li>Maintain the duration for the first slot by inserting 15 in the following text field. 15 is the number of seconds the media server will run this particular ad</li>\n                            <li>Click Add Slot</li>\n                            <li>Schedule the second slot to run in 15 minutes: 09:30:00. Duration: 15</li>\n                            <li>\n                              Follow same logic above for the following:\n                              <ul class="list-unstyled">\n                                <li>09:45:00 15</li>\n                                <li>10:00:00 15</li>\n                              </ul>\n                              <li><p>\n                              After this, in the Files section, click on the folder where your ads are located and select the checkboxes for the files that you need to add to your schedule. When the files appear in the schedule, you can add \'weight\' to each file to prioritize the order in which the ads are streamed.</p> \n                              <p>The more \'weight\' a file has, the more often it will be streamed. When a file is streamed once, its \'weight\' becomes one point less. When the weights of all files become 0, all weights are restored to their default values.\n\n                              If the duration of a slot is longer than a videofile, then the next videofile is chosen\n                              according to its \'weight\'. If there is not enough time to stream the whole videofile,\n                              then the ad slot ends and the server resumes regular broadcasting.</p>\n                              </li>\n                          </ol>\n                          <p>\n                            When done, navigate to the Stream section under <a target=_blank href="#/media">Media</a> and click Configure stream for \n                            the stream you need to add the ads to. Then click Ad Schedule in the displayed section \n                            and fill in your schedule name and the stream name alias.\n                          </p>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- schedule files -->\n                <div class="col-lg-6 col-md-5 panel-body">\n                  <div class="container">\n                    <div class="form-group" ng-repeat="f in files track by $index">\n                      <span class="glyphicon glyphicon-remove col-sm-1 form-control-static" \n                            ng-click="remove_schedule_file(f)"></span>\n                      <div class="col-md-3 col-sm-3">\n                        <input ng-model="f.weight" type="text" class="form-control input-sm">\n                      </div>\n                      <span class="col-md-7 col-sm-7 form-control-static">{{f.name}}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n            <!-- end schedule -->\n          </div>\n        </div>\n      </div>\n      <div ng-include="\'/flu/html/adverted-streams.html\'"></div>\n    </div>\n    \n    \n    <div class="col-lg-4 col-md-4 col-sm-4 container">\n      <div class="row">\n        <div class="col-lg-12"><h3>Files</h3></div>\n      </div>\n      \n      <div class="row">\n        <div class="col-lg-12">\n          <p>These are the files that are uploaded to the <a target="_blank" href="#/vod">VOD section</a> of Flussonic.</p>\n        </div>\n      </div>\n      \n      \n    <!--vod browser-->\n      <div class="row panel-group vod-item">\n        <div class="panel panel-default" ng-repeat="vod in vods track by $index">\n          \n          <div class="panel-heading">\n            <h4 class="panel-title">\n              <a class="accordion-toggle" data-toggle="collapse" href="div#vod{{$index}}" title="{{vod.prefix}}: {{vod.path}}">{{vod.prefix}}</a>\n            </h4>\n          </div>\n          <div id="vod{{$index}}" data-index="{{$index}}" class="panel-collapse collapse">\n            <div class="panel-body container">\n              <nav class="navbar navbar-default vod-actions">\n                <div vod-upload="vod">\n                  <form class=\'navbar-form navbar-left\' style=\'width: 100%\' enctype=\'multipart/form-data\' method=\'POST\' action=\'/flussonic/api/upload\' class=\'\'>\n                    <div class="row">\n                      <div class=\'col-sm-2 col-lg-1\'>\n                        <a title="Load files from server" class="reload-files glyphicon glyphicon-refresh" style="font-size: 20px" href=\'#\'\n                           onclick=\'return false;\' ng-click=\'load_vod($index, vod.subpath)\'></a>\n                      </div>\n                      <div class=\'col-sm-10 col-lg-11\'>\n                        <ol class="breadcrumb vod-path">\n                          <li ng-repeat="parent in vod.parents track by $index">\n                            <a href ng-click="load_vod($parent.$index, parent.subpath)">{{parent.name}}</a>\n                          </li>\n                          <li class=\'active\'>{{vod.dir_name}}</li>\n                        </ol> \n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </nav>\n              <div class="row"> <!-- here goes file list -->\n                <ul class="list-group">\n                  <li class="list-group-item" ng-repeat="dir in vod.dirs track by $index">\n                    <span class="glyphicon glyphicon-folder-open"></span>\n                    <a href="" ng-click="load_vod($parent.$index, dir.subpath)">{{dir.name}}</a>\n                  </li>\n                  <li class="list-group-item" ng-repeat="file in vod.files track by $index"  ng-click="add_remove_file(file)">\n                    <span class="glyphicon glyphicon-film" \n                          ng-hide="is_schedule()"></span>\n                    <span ng-show="is_schedule()">\n                      <span class="glyphicon glyphicon-unchecked" \n                            ng-hide="file_selected(file)"></span>\n                      <span class="glyphicon glyphicon-check" \n                            ng-show="file_selected(file)"></span>\n                    </span>\n                    <span>{{file.name}}</span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n</div>\n\n<style type="text/css">\n  .vod-actions{\n    margin: -15px -15px 0 -15px;\n    border: none;\n    min-height: 0;\n  }\n  .vod-path {\n    margin-bottom: 0px;\n    padding-top: 4px;\n    padding-bottom: 4px;\n  }\n  .popover {\n    max-width: 600px;\n  }\n  \n</style>\n\n<script>\n  $(".vod-item").on("show.bs.collapse", ".panel-collapse", function() {\n    var $scope = angular.element(".panel-group").scope();\n    var $this = $(this);\n    var index = parseInt($this.attr("data-index"),10);\n    $scope.$eval(function() {\n      $scope.load_vod(index, "/");\n    });\n  });\n  \n</script>\n');
}]);
