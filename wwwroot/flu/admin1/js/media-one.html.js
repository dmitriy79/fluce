if(!window.ng_flussonic_templates) window.ng_flussonic_templates = angular.module('flussonic-templates',[]);window.ng_flussonic_templates.run(['$templateCache', function($templateCache) {
  $templateCache.put('/flu/html/media-one.html', '      <tr ng-repeat-start="stream in (media_group | filter:stream_filter)" ng-class="{online : stream.online, offline : !stream.online}">\n        <td valign="top" ng-if="config_loaded" class="hidden-xs hidden-sm">\n          <button ng-if="stream.config" type=button class=\'btn btn-xs btn-default\' btn-checkbox ng-model=\'stream.show_config\'>\n            <span class="glyphicon glyphicon-wrench" title="Configure stream {{stream.name}}"></span>\n          </button>\n\n          <span class="glyphicon glyphicon-cloud" ng-if="!stream.config && stream.remote" title="Remote stream"></span>\n          &nbsp;\n\n          <span class="glyphicon glyphicon-transfer" ng-if="stream.cluster_ingest" title="Cluster stream"></span>\n\n\n          <a href=\'\' ng-click=\'remove_ingest_stream($index)\' class=\'stream-delete\' ng-if="stream.show_config">\n            <span class="glyphicon glyphicon-minus-sign" title="Remove stream {{stream.name}}"></span>\n          </a>\n        </td>\n        <td valign=\'top\' class="stream-name">\n          <input ng-if="stream.show_config" ng-model="stream.config.name" type="text" class="form-control input-sm">\n          <span title=\'{{stream.comment}}\' ng-if="!stream.show_config && stream.config" style="white-space: normal;">{{stream.config.name}}</span>\n          <span title=\'{{stream.comment}}\' ng-if="!stream.show_config && !stream.config" style="white-space: normal;">{{stream.name}}</span>\n        </td>\n        <td style="white-space: nowrap;" >\n<button type=button class=\'btn btn-xs btn-default\' btn-checkbox ng-model=\'stream.show_pulse\'>Pulse</button>\n<button type=button class=\'btn btn-xs btn-danger\' ng-show="stream" ng-click=\'play_stream(stream);\'>Live</button>\n<button type=button class=\'btn btn-xs btn-info\' ng-show="stream.dvr" btn-checkbox ng-model=\'stream.show_new_dvr\'>\n  DVR\n  <span ng-if="stream.dvr_replication" ng-class="{\'dvr-running\' : stream.dvr_replication_running}">{{stream.dvr_replication}} %</span>\n</button>\n\n\n        </td>\n\n        <td><button type=button ng-show="stream.online" class=\'btn btn-xs\' ng-click=\'show_clients(stream)\'>{{stream.client_count}}</button></td>\n        \n        <td class="hidden-xs" ng-if="stream.source_error" colspan="2">\n          <button type=button class=\'btn btn-xs btn-danger\' btn-checkbox ng-model=\'stream.show_log\'>\n            <span class="glyphicon glyphicon-warning-sign"></span> {{stream.source_error}}\n          </button>\n        </td>\n        <td class="hidden-xs" ng-if="stream.online && !stream.source_error">{{stream.bitrate}}</td>\n\n        <td ng-if="stream.online && !stream.source_error">\n          <button type=button class=\'btn btn-xs btn-default\' btn-checkbox ng-model=\'stream.show_log\'>{{stream.lifetime}}</button>\n        </td>\n        <td class="hidden-xs" ng-if="stream.online">{{stream.v_ts_delay}}</td>\n\n        <td class="hidden-xs" ng-if="!stream.online" colspan="3">offline</td>\n\n        <td class="hidden-xs hidden-sm"><span ng-show="stream.online">{{stream.v_retry_count}}</span></td>\n        <td class="hidden-xs"><a href=\'\' ng-show="stream.online" ng-click=\'restart_stream(stream);\'><span class=\'restart\'></span>restart</a></td>\n      </tr>\n\n      <tr ng-if="stream.show_pulse">\n        <td colspan="10">\n          <div pulse-flow="media/{{stream.name}}" subscribe=true show-if="stream.show_pulse" resolution="minute" \n              options="{yaxes:[{position:\'left\'},{position:\'right\'}], yaxis : {type : \'net\'}}" \n              style=\'height:350px; width: 100%; float:left; margin-bottom: 40px\'>Media traffic</div>          \n        </td>\n      </tr>\n\n      <tr ng-if="stream.show_clients">\n        <td colspan="10">\n          <a href=\'\' ng-click=\'hide_clients(stream);\' style=\'width: auto\'>Close</a>\n          <table width="100%">\n            <thead><tr><th>IP</th><th>UserID</th><th>Type</th><th>Time</th><th>Bytes</th></tr></thead>\n            <tbody>\n              <tr ng-repeat="c in stream.clients track by c.id" data-id="{{c.id}}">\n                <td>{{c.ip}}</td>\n                <td>{{c.user_id}}</td>\n                <td>{{c.type}}</td>\n                <td class="duration">{{c.duration}}</td>\n                <td class="bytes">{{c.bytes}}</td>\n              </tr>\n            </tbody>\n          </table>          \n        </td>\n      </tr>\n\n      <tr ng-if="stream.show_new_dvr">\n        <td colspan="10">\n          <div ng-if="stream.dvr_replication" class="row">\n            <div ng-if="stream.dvr_replication_running">\n              DVR is replicating: {{stream.dvr_replication}}%              \n            </div>\n            <div ng-if="!stream.dvr_replication_running">\n              DVR replication stopped on {{stream.dvr_replication}}%              \n            </div>\n          </div>\n          <!-- <div dvr-map="stream" auth-token=\'admin_auth_token\' local-time></div> -->\n        </td>\n      </tr>\n\n      <tr ng-if="stream.show_new_dvr">\n        <td colspan="10">\n          <div dvr-react-player="stream" class="ng-react-dvr" auth-token=\'admin_auth_token\'></div>\n          <!-- TODO: #2015 change dvr-player to dvr-react-player -->\n        </td>\n      </tr>\n\n\n      <tr ng-if="stream.preview_url && !stream.show_new_dvr">\n        <td colspan="10">\n          <div flu-player="stream.preview_url"></div>          \n        </td>\n      </tr>\n\n      <tr ng-if="stream.show_log">\n        <td colspan="10">\n          <div>Media info for this stream</div>\n          <div class="container">\n            <div ng-repeat="stream_info in stream.media_info.streams track by stream_info.track_id" class="row">\n              <div class="col-md-1">{{stream_info.track_id}}</div>\n              <div class="col-md-1">{{stream_info.codec}}</div>\n              <div class="col-md-1" ng-if="stream_info.bitrate">{{stream_info.bitrate}}kbit/s</div>\n              <div class="col-md-1" ng-if="stream_info.size">{{stream_info.size}}</div>\n              <div class="col-md-1" ng-if="stream_info.profile">{{stream_info.profile}}@{{stream_info.level}}</div>\n              <div class="col-md-1" ng-if="stream_info.lang">{{stream_info.lang}}</div>\n            </div>\n          </div>\n        </td>\n      </tr>\n\n      <tr ng-if="stream.show_log">\n        <td colspan="10">\n          <div>Log entries for this stream</div>\n          <textarea media-log="stream.name" limit="40" style="height: 10em; overflow: scroll;" class="form-control"></textarea>\n        </td>\n      </tr>\n\n      <tr class="media-config" ng-if="stream.show_config">\n        <td colspan="10" class="form-horizontal">\n          <div class="form-group">\n\n            <label class="col-md-1 control-label">Persistent:</label>\n            <div class="col-md-1"><input type=checkbox ng-model="stream.config.static" class="form-control input-sm"></div>\n\n\n            <div class="col-lg-2">\n              <button class="btn btn-info btn-sm" ng-click="config.add_stream_url(stream.config)">Add source</button>\n            </div>\n\n            <div class="col-lg-5">\n              <div class="input-group input-group-sm" ng-repeat="e in stream.config.urls track by $index" style="margin-bottom: 10px">\n                <input ng-model="e.url" type="text" class="form-control">\n                <span ng-if=\'(e.url || "").split("://")[1] == (stream.url || "").split("://")[1]\' class="input-group-addon" title="Current stream source">*</span>\n                <div class="input-group-btn">\n                  <button class="btn btn-danger" type="button" ng-click="config.remove_stream_url(stream.config,$index)">remove</button>\n                </div>\n              </div>                  \n            </div>\n\n\n          </div>\n        </td>\n      </tr>\n\n      <tr class="media-config" ng-if="stream.show_config">\n        <td colspan="10" ng-init=\'s = stream.config\' class="form-horizontal">\n          <div class="form-group" ng-include="\'/flu/html/config-one-stream.html\'"></div>\n        </td>\n      </tr>\n\n      <tr ng-show="stream.show_extended" ng-repeat-end>\n        <td colspan="10">\n        </td>\n      </tr>\n');
}]);
